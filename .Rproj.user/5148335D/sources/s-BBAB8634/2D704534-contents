p <- gather(barras_data, "variable","valor",-"Year") %>% 
  filter(variable != "Total") %>%     # Quito las columnas que no deseo 
  ggplot(aes(x = Year,                #<< La funci칩n "aes" va a tomar los  
             y = valor,               #<< argumentos dependiendo del   
             fill = variable          #<< gr치fico  
  )
  )+
  geom_col() 

library(scales)
library(viridis)
p +
  scale_y_continuous(labels = dollar) +       #<< [2]
  scale_fill_viridis_d() +                    #<< [3]
  labs(title = "Descomposici칩n del Total",    #<< [4] 
       subtitle = "Periodicidad: Anual" ,
       caption = "Elaborado por: Eric Blair",
       x = "A침os",
       y = "Miles USD",
       fill = "Componente") +
  theme_minimal()
